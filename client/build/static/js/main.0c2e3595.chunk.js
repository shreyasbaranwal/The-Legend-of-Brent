(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),c=a.n(l),o=(a(86),a(34)),i=a(13),s=a(18),m=a(15),u=a(14),h=a(16),g=a(21),d=a(33),p=a(29),k=a(168),b=a(160),f=a(159),y=a(158),A=a(71),E=a(167),v=a(50),j=a.n(v),S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).login=function(e,t){return a.fetch("/user/login",{method:"POST",body:JSON.stringify({username:e,password:t})}).then(function(e){return a.setToken(e.token),Promise.resolve(e)})},a.logout=function(){localStorage.removeItem("id_token")},a.loggedIn=function(){var e=a.getToken();return!!e&&!a.isTokenExpired(e)},a.isTokenExpired=function(e){try{return j()(e).exp<Date.now()/1e3}catch(t){return console.log("expired check failed! Line 42: AuthService.js"),!1}},a.setToken=function(e){localStorage.setItem("id_token",e),console.log("id token has been set")},a.getToken=function(){return console.log("getting id token"),localStorage.getItem("id_token")},a.getConfirm=function(){var e=j()(a.getToken());return console.log("Recieved answer!"),e},a.fetch=function(e,t){var n={Accept:"application/json","Content-Type":"application/json"};return a.loggedIn()&&(n.Authorization="Bearer "+a.getToken()),fetch(e,Object(o.a)({headers:n},t)).then(a._checkStatus).then(function(e){return e.json()})},a._checkStatus=function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t},a}return Object(h.a)(t,e),t}(r.a.Component),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={attackBarInitialState:0},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null)}}]),t}(r.a.Component),w=a(154),C=a(156),x=a(157),F=Object(w.a)(function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},appbar:{backgroundColor:"black"}}});function M(){var e=F(),t=new S;return r.a.createElement("div",{className:e.root},r.a.createElement(C.a,{className:e.appbar,position:"static"},r.a.createElement(x.a,null,r.a.createElement(y.a,{variant:"h6",className:e.title,style:{fontFamily:"Merienda, cursive"}},r.a.createElement(g.b,{to:"/",color:"inherit",style:{textDecoration:"none",color:"white",paddingLeft:"20px"}},"THE LEGEND OF BRENT")),r.a.createElement(g.b,{to:"/CharSelect",color:"inherit",style:{fontFamily:"Merienda, cursive",textDecoration:"none",color:"white"},onClick:function(){}},"CHARACTER SELECTION"),r.a.createElement(g.b,{to:"/",color:"inherit",style:{fontFamily:"Merienda, cursive",textDecoration:"none",color:"white",paddingLeft:"20px"},onClick:function(){!function(){if(t.loggedIn())return t.logout(),r.a.createElement(d.a,{to:"/"});alert("You are not currently logged in.")}()}},"LOGOUT"))))}var T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).Auth=new S,a.state={username:"",password:"",loginSuccess:!1},a.changeHandler=function(e){var t;a.setState((t={},Object(p.a)(t,e.target.name,e.target.value),Object(p.a)(t,e.target.password,e.target.value),t))},a.handleFormSubmit=function(e){e.preventDefault(),a.Auth.login(a.state.username,a.state.password).then(function(e){if(400===e.status)return alert("Sorry those credentials don't exist!");a.setState({loginSuccess:!0})}).catch(function(e){alert(e)})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state.loginSuccess?r.a.createElement(d.a,{to:"/CharSelect"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(M,null),r.a.createElement(f.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"flex-start",style:{padding:"20px"}},r.a.createElement(y.a,{variant:"h4",component:"h4",style:{color:"white",fontFamily:"Merienda, cursive",paddingBottom:"20px"}},"Log In To Play Now!"),r.a.createElement(A.a,{style:{backgroundColor:"#f5f5f5"}},r.a.createElement(k.a,{style:{padding:"20px"}},r.a.createElement(y.a,{variant:"h6",component:"h6",style:{fontFamily:"Merienda, cursive"}},"Log In Below"),r.a.createElement(E.a,{id:"outlined-name",label:"Name",name:"username",onChange:this.changeHandler,margin:"normal",variant:"outlined"}),r.a.createElement(E.a,{id:"outlined-password-input",name:"password",label:"Password",onChange:this.changeHandler,type:"password",margin:"normal",variant:"outlined",style:{paddingLeft:"3px"}})),r.a.createElement(k.a,{component:"span",style:{padding:"20px"}},r.a.createElement(b.a,{variant:"contained",color:"primary",id:"loginButton",onClick:this.handleFormSubmit,style:{fontFamily:"Merienda, cursive"}},"Login"),r.a.createElement(y.a,{style:{paddingTop:"10px",paddingLeft:"20px",fontFamily:"Merienda, cursive"}},"Don't have an account?",r.a.createElement("a",{href:"/signup"}," Sign up here")),r.a.createElement(O,null)))))}}]),t}(n.Component),I=(a(100),a(69)),B=a.n(I),L=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={name:"",password:"",email:""},a.changeHandler=function(e){var t;a.setState((t={},Object(p.a)(t,e.target.name,e.target.value),Object(p.a)(t,e.target.password,e.target.value),Object(p.a)(t,e.target.email,e.target.value),t))},a.signUp=function(e){e.preventDefault(),B.a.post("/user/signup",{username:a.state.name,password:a.state.password,email:a.state.email}).then(function(e){if(console.log(e),e.data)return alert("Your account was created!"),console.log(e.data),r.a.createElement(d.a,{to:"/"});console.error("signup error")}).catch(function(e){console.log("sign up server error: "),console.error(e)})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return document.body.style.backgroundImage="url(images/monster.jpg",document.body.style.backgroundRepeat="no-repeat",document.body.style.height="100%",r.a.createElement(r.a.Fragment,null,r.a.createElement(M,null),r.a.createElement(y.a,{variant:"h3",component:"h3",align:"left",style:{margin:15,paddingBottom:"20px",fontFamily:"Merienda, cursive",color:"maroon"}},"Sign Up To Play Now!"),r.a.createElement(f.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"flex-start"},r.a.createElement(A.a,{style:{padding:20,backgroundColor:"whitesmoke",marginLeft:"4rem"}},r.a.createElement(k.a,null,r.a.createElement(y.a,{variant:"h6",component:"h6",style:{fontFamily:"Merienda, cursive",color:"maroon"}},"Please Fill Out The Fields Below"),r.a.createElement(f.a,{item:!0,xs:10},r.a.createElement(E.a,{id:"outlined-name",name:"name",label:"Name",onChange:this.changeHandler,margin:"normal",variant:"outlined"})),r.a.createElement(f.a,{item:!0,xs:10},r.a.createElement(E.a,{id:"outlined-email-input",label:"E-mail",name:"email",onChange:this.changeHandler,type:"email",margin:"normal",variant:"outlined"})),r.a.createElement(f.a,{item:!0,xs:10},r.a.createElement(E.a,{id:"outlined-password-input",label:"Password",name:"password",onChange:this.changeHandler,type:"password",margin:"normal",variant:"outlined"}))),r.a.createElement(k.a,null,r.a.createElement(b.a,{variant:"contained",style:{backgroundColor:"maroon",color:"white"},onClick:this.signUp},"Sign-Up")))))}}]),t}(n.Component),D=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return document.body.style.backgroundImage="url(images/rain.jpg",document.body.style.backgroundRepeat="no-repeat",document.body.style.height="100%",r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null))}}]),t}(n.Component),N=a(166),H=a(161),R=a(163),P=a(165),U=a(164),W=a(162),Y=a(169),_=Object(w.a)(Object(Y.a)({card:{width:250,margin:30},media:{height:350},cardB:{width:300,margin:30,backgroundColor:"red"}}));function z(e){var t=_();return console.log("Monster card props.shake: ".concat(e.shake)),r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{className:e.shake?"".concat(t.cardB):"".concat(t.card)},r.a.createElement(W.a,null,r.a.createElement(R.a,{className:"".concat(t.media),image:e.img,name:e.name}),r.a.createElement(U.a,null,r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h5",style:{fontFamily:"Merienda, cursive"}},e.name),r.a.createElement(y.a,{variant:"body2",component:"p",color:"textSecondary"},r.a.createElement(f.a,{direction:"column"},r.a.createElement(y.a,{style:{fontFamily:"Merienda, cursive"}}," ","Class: ",e.class),r.a.createElement(y.a,{style:{fontFamily:"Merienda, cursive"}},"Small Attack: ",e.smallAttack),r.a.createElement(y.a,{style:{fontFamily:"Merienda, cursive"}},"Big Attack: ",e.bigAttack),r.a.createElement(y.a,{style:{fontFamily:"Merienda, cursive"}}," ","Special Attack: ",e.specialAttack),r.a.createElement(y.a,{style:{fontFamily:"Merienda, cursive"}}," ","Health: ",e.health)),r.a.createElement(P.a,null))))))}var G=a(70),J=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={shake:!1,monsterShake:!1,rubberBand:!1,wobble:!1},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.globalState,n=a.monster,r=a.character,l=e.globalState.monster,c=e.globalState.character;n&&r&&(r.health!==c.health&&(console.log("character health changed"),this.setState({shake:!0},function(){setTimeout(function(){return t.setState({shake:!1})},150)})),n.health!==l.health&&(console.log("monster health changed"),this.setState({monsterShake:!0},function(){setTimeout(function(){return t.setState({monsterShake:!1})},150)})))}},{key:"componentWillUnmount",value:function(){this.setState({shake:!1,monsterShake:!1})}},{key:"render",value:function(){var e=this,t=this.props.globalState,a=t.character,n=t.monster,l=this.state,c=l.shake,o=l.monsterShake;return document.body.style.backgroundImage="url('images/battle.jpg')",document.body.style.backgroundRepeat="repeat-y",document.body.style.backgroundPosition="center ",r.a.createElement(r.a.Fragment,null,r.a.createElement(M,null),r.a.createElement(N.a,{maxWidth:"lg"},r.a.createElement(f.a,{style:{paddingTop:"15px"},direction:"row",alignItems:"space-evenly",justify:"center",container:!0,spacing:5},r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(k.a,null,r.a.createElement(z,{key:a.id,id:a.id,class:a.class,name:a.name,img:a.img,health:a.health,smallAttack:a.smallAttack,bigAttack:a.bigAttack,specialAttack:a.specialAttack,shake:c}),r.a.createElement(f.a,{container:!0,direction:"column",justify:"space-between"},r.a.createElement(k.a,null,r.a.createElement(y.a,null,r.a.createElement(b.a,{size:"medium",color:"primary",variant:"contained",onClick:function(){e.props.handleSmallAttackMonster(a.smallAttack),e.setState({shakeMonster:!0})}},"Small Attack"),r.a.createElement(b.a,{size:"medium",color:"primary",variant:"contained",onClick:function(){e.props.handleSmallAttackMonster(a.bigAttack),e.setState({shakeMonster:!0})}},"Big Attack")))))),n&&r.a.createElement(k.a,null,r.a.createElement(z,{key:n.id,id:n.id,class:n.class,name:n.name,img:n.img,health:n.health,smallAttack:n.smallAttack,bigAttack:n.bigAttack,specialAttack:n.specialAttack,shake:o})))))}}]),t}(n.Component),K=function(e){function t(e){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return document.body.style.backgroundImage="url('images/bluesky.jpg')",document.body.style.backgroundRepeat="repeat-y",this.props.globalState&&this.props.globalState.character?r.a.createElement(d.a,{to:"/BattleScreen"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(M,null),r.a.createElement(N.a,{maxWidth:"lg"},r.a.createElement(f.a,{style:{paddingTop:"15px"},direction:"row",alignItems:"center",justify:"flex-end",container:!0,spacing:5},G.map(function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,null,r.a.createElement(z,{key:t.id,id:t.id,class:t.class,name:t.name,img:t.img,health:t.health,smallAttack:t.smallAttack,bigAttack:t.bigAttack,specialAttack:t.specialAttack}),r.a.createElement(b.a,{size:"small",color:"primary",variant:"contained",style:{marginLeft:"4rem"},onClick:function(){e.props.chooseCharacter(t)}},"Choose ".concat(t.name))))}))))}}]),t}(n.Component);var V=a(53),q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).enemyAttack=function(){var e=a.state,t=e.character,n=e.monster,r=parseInt(n.smallAttack);t&&t.health>=0&&a.setState({character:Object(o.a)({},t,{health:parseInt(t.health)-r})})},a.handleSmallAttackMonster=function(e){a.setState({monster:Object(o.a)({},a.state.monster,{health:a.state.monster.health-e})}),a.state.monster.health<=0&&(alert("You defeated ".concat(a.state.monster.name,"! You won!")),a.setState({monster:"",character:""}))},a.Auth=new S,a._handleLogout=function(){a.Auth.logout(),alert("You have successfully logged out")},a.chooseCharacter=function(e){a.setState({character:e})},a.handleAttackMonster=function(e){a.setState({monster:Object(o.a)({},a.state.monster,{health:a.state.monster.health-e})})},a.handleBigAttackMonster=function(e){a.setState({monster:Object(o.a)({},a.state.monster,{health:a.state.monster.health-e})})},a.handleSpecialAttackMonster=function(e){a.setState({monster:Object(o.a)({},a.state.monster,{health:a.state.monster.health-e})})},a.state={character:null,monster:V[Math.floor(Math.random()*V.length)],counter:0},a.enemyInterval="",a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.enemyInterval=setInterval(this.enemyAttack,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.enemyInterval)}},{key:"componentDidUpdate",value:function(){console.log(this.state.character),console.log(this.state.monster),this.state.character.health<=0&&(alert("".concat(this.state.monster.name," has defeated you!")),this.setState({monster:"",character:""}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:D}),r.a.createElement(d.b,{exact:!0,path:"/signup",component:L}),r.a.createElement(d.b,{path:"/CharSelect",render:function(){return r.a.createElement(K,{chooseCharacter:e.chooseCharacter,globalState:e.state})}}),r.a.createElement(d.b,{path:"/BattleScreen",render:function(){return r.a.createElement(J,{handleSmallAttackMonster:e.handleSmallAttackMonster,handleBigAttackMonster:e.handleBigAttackMonster,handleSpecialAttackMonster:e.handleSpecialAttackMonster,globalState:e.state})}}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},53:function(e){e.exports=[{id:"1",class:"Demon Lord",name:"Jolros",health:"1000",smallAttack:"10",bigAttack:"25",specialAttack:"80",img:"images/DemonLord.jpg"},{id:"2",name:"Kogthas",class:"Demon Soldier",health:"850",smallAttack:"9",bigAttack:"19",specialAttack:"80",img:"images/DemonSoldier.jpg"},{id:"3",name:"Tengu",class:"Oni Lord",health:"800",smallAttack:"19",bigAttack:"28",specialAttack:"80",img:"images/OniLord.png"},{id:"4",name:"Yamauba",class:"Oni Soldier",health:"900",smallAttack:"12",bigAttack:"30",specialAttack:"80",img:"images/OniSoldier.jpg"},{id:"5",name:"Brent Abruzese",class:"The Cursed One",health:"2500",smallAttack:"90000000",bigAttack:"90000000",specialAttack:"800",img:"images/FiendLord.jpg"},{id:"6",name:"Kuma",class:"Fiend Soldier",health:"1000",smallAttack:"18",bigAttack:"19",specialAttack:"80",img:"images/FiendSoldier.jpg"},{id:"7",name:"Aqualon",class:"Elemental",health:"750",smallAttack:"18",bigAttack:"29",specialAttack:"90",img:"images/Elemental.jpg"},{id:"8",name:"Tinder",class:"Fire Elemental",health:"850",smallAttack:"18",bigAttack:"29",specialAttack:"80",img:"images/FireElemental.jpg"}]},70:function(e){e.exports=[{id:"1",name:"Alymere",class:"Paladin",health:"500",smallAttack:"11",bigAttack:"19",specialAttack:"88",img:"images/Paladin.jpg"},{id:"2",name:"Hugubert",class:"Knight",health:"500",smallAttack:"17",bigAttack:"23",specialAttack:"80",img:"images/Knight.jpg"},{id:"3",name:"Yakumo Ryu",class:"Samurai",health:"200",smallAttack:"22",bigAttack:"29",specialAttack:"77",img:"images/Samurai.jpg"},{id:"4",name:"Lightningstroke",class:"Ninja",health:"180",smallAttack:"19",bigAttack:"33",specialAttack:"79",img:"images/Ninja.jpg"},{id:"5",name:"Ferthaund",class:"Barbarian",health:"200",smallAttack:"14",bigAttack:"33",specialAttack:"80",img:"images/Barbarian.jpg"},{id:"6",name:"Wengo",class:"Viking",health:"200",smallAttack:"20",bigAttack:"30",specialAttack:"90",img:"/images/Viking.jpg"},{id:"7",name:"Rheliusr",class:"Sorcerer",health:"150",smallAttack:"31",bigAttack:"39",specialAttack:"99",img:"images/GrandSorcerer.jpg"},{id:"8",name:"Davkas",class:"Mage",health:"150",smallAttack:"30",bigAttack:"42",specialAttack:"91",img:"images/Mage.jpg"}]},81:function(e,t,a){e.exports=a(118)},86:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.0c2e3595.chunk.js.map